<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Wordle for Kids</title>
    <style>
        /* --- GLOBAL STYLES --- */
        body {
            background-color: #121213;
            color: white;
            font-family: 'Comic Sans MS', 'Chalkboard SE', Arial, sans-serif; /* Kid-friendly font */
            text-align: center;
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* --- SPLASH / GAME OVER OVERLAY --- */
        #overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(18, 18, 19, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .modal-box {
            background-color: #2c2c2e;
            padding: 20px;
            border-radius: 15px;
            width: 85%;
            max-width: 320px;
            text-align: center;
            border: 3px solid #538d4e;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        #overlay-title { font-size: 28px; margin: 0 0 10px 0; color: #fff; }
        #overlay-message { font-size: 18px; margin-bottom: 20px; color: #d7dadc; }

        .big-btn {
            background-color: #538d4e;
            color: white;
            font-size: 22px;
            font-weight: bold;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            width: 80%;
            margin-top: 10px;
        }
        .big-btn:active { transform: scale(0.95); }

        /* --- GAME LAYOUT --- */
        #game-screen {
            display: flex;
            flex-direction: column;
            height: 100%;
            width: 100%;
        }

        header {
            padding: 10px 0;
            border-bottom: 2px solid #3a3a3c;
            background-color: #121213;
        }
        h1 { margin: 0; font-size: 20px; letter-spacing: 2px; color: #538d4e; }

        #game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Keeps board high */
            padding-top: 15px; 
        }

        #board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-gap: 5px;
            width: 230px; 
        }

        .tile {
            width: 52px; height: 52px;
            border: 2px solid #3a3a3c;
            font-size: 28px; font-weight: bold;
            display: flex; align-items: center; justify-content: center;
            text-transform: uppercase;
            border-radius: 4px; /* Softer corners */
        }

        /* --- KEYBOARD --- */
        #keyboard {
            width: 100%;
            padding-bottom: 80px; /* High padding for Pixel nav bar */
            background-color: #121213;
            user-select: none;
        }

        .row { display: flex; justify-content: center; margin: 4px 0; }
        
        .key {
            background-color: #818384;
            color: white;
            font-weight: bold;
            border-radius: 6px;
            margin: 0 2px;
            height: 52px;
            width: 30px; 
            display: flex; align-items: center; justify-content: center;
            font-size: 14px;
            cursor: pointer;
        }
        .key-wide { width: 48px; font-size: 12px; }

        /* COLORS */
        .correct { background-color: #538d4e; border-color: #538d4e; }
        .present { background-color: #b59f3b; border-color: #b59f3b; }
        .absent { background-color: #3a3a3c; border-color: #3a3a3c; }
        
        /* Keyboard State Overrides */
        .key.correct { background-color: #538d4e; }
        .key.present { background-color: #b59f3b; }
        .key.absent { opacity: 0.15; pointer-events: none; }

        /* Pop-up message during game */
        #toast {
            visibility: hidden;
            background-color: white;
            color: black;
            text-align: center;
            border-radius: 5px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            top: 70px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div id="overlay">
        <div class="modal-box">
            <h2 id="overlay-title">WORDLE TIME!</h2>
            <div id="overlay-message">
                Guess the 4-letter word.<br><br>
                <span style="color:#538d4e; font-weight:bold;">Green</span> = Right Spot<br>
                <span style="color:#b59f3b; font-weight:bold;">Yellow</span> = Wrong Spot
            </div>
            <button class="big-btn" onclick="startNewGame()">PLAY!</button>
        </div>
    </div>

    <div id="game-screen">
        <header><h1>GUESS THE WORD</h1></header>
        
        <div id="game-container">
            <div id="toast">Message</div>
            <div id="board"></div>
        </div>

        <div id="keyboard">
            <div class="row" id="row1"></div>
            <div class="row" id="row2"></div>
            <div class="row" id="row3"></div>
        </div>
    </div>

    <script>
        // --- 7-YEAR-OLD APPROPRIATE WORD LIST ---
        const wordList = [
            // Animals & Nature
            "BEAR", "BIRD", "CATS", "DOGS", "DUCK", "FISH", "FROG", "GOAT", "LAMB", 
            "LION", "PIGS", "WOLF", "MOON", "STAR", "SNOW", "RAIN", "WIND", "TREE", 
            "LEAF", "SAND", "ROCK", "HILL", "LAKE", "PARK", "ROSE", "FIRE", 
            // Food
            "CAKE", "CORN", "MILK", "RICE", "SOUP", "PEAR", "LIME", "KIWI", "FOOD", "PIE",
            // Actions
            "JUMP", "PLAY", "READ", "SING", "SWIM", "WALK", "DRAW", "COOK", "HELP", 
            "LOVE", "GROW", "KICK", "RIDE", "STOP", "TALK", "WASH", "WORK", "LOOK",
            // Objects
            "BALL", "BOOK", "BOAT", "CARS", "DOLL", "DOOR", "KITE", "SHOE", "TOYS", 
            "BIKE", "FLAG", "GIFT", "HOME", "ROOM", "SHIP", "SHOP", "BEDS",
            // People
            "BABY", "GIRL", "BOYS", "MOM", "DAD", "TEAM", "KING", 
            // Descriptors / Other
            "BLUE", "PINK", "COOL", "GOOD", "NICE", "TALL", "TINY", "FAST", "SLOW", 
            "WARM", "COLD", "LOUD", "SOFT", "KIND", "EASY", "HARD", "LUCK", "MATH", 
            "NAME", "TIME", "WEEK", "YEAR", "ZERO"
        ];
        
        let secret = "LOVE"; // Placeholder
        const height = 6, width = 4;
        let row = 0, col = 0, gameOver = false;

        // --- INIT ---
        window.onload = () => { 
            buildBoard(); 
            buildKeyboard(); 
        };

        function startNewGame() {
            // 1. Reset Logic
            row = 0; col = 0; gameOver = false;
            
            // 2. Pick Random Word
            secret = wordList[Math.floor(Math.random() * wordList.length)];
            console.log("Secret:", secret); // For Dad to cheat if needed ;)

            // 3. Clear Board Visually
            for (let r = 0; r < height; r++) {
                for (let c = 0; c < width; c++) {
                    let tile = document.getElementById(`tile-${r}-${c}`);
                    tile.innerText = "";
                    tile.className = "tile"; // removes color classes
                    tile.style.borderColor = "#3a3a3c";
                }
            }

            // 4. Reset Keyboard Visually
            let keys = document.getElementsByClassName("key");
            for (let k of keys) {
                k.className = "key"; // removes color classes
                if (k.innerText.length > 1) k.classList.add("key-wide");
            }

            // 5. Hide Overlay
            document.getElementById("overlay").style.display = "none";
        }

        // --- GAME OVER LOGIC ---
        function endGame(won) {
            gameOver = true;
            let title = document.getElementById("overlay-title");
            let msg = document.getElementById("overlay-message");
            let btn = document.querySelector(".big-btn");

            document.getElementById("overlay").style.display = "flex";
            
            if (won) {
                title.innerText = "YOU WON! ðŸŽ‰";
                title.style.color = "#538d4e";
                msg.innerHTML = `Great job!<br>The word was <b>${secret}</b>`;
                btn.innerText = "PLAY AGAIN";
            } else {
                title.innerText = "GOOD TRY!";
                title.style.color = "#d7dadc";
                msg.innerHTML = `The word was <b>${secret}</b><br>Don't give up!`;
                btn.innerText = "TRY NEW WORD";
            }
        }

        // --- BUILDERS ---
        function buildBoard() {
            const board = document.getElementById("board");
            board.innerHTML = "";
            for (let i = 0; i < height * width; i++) {
                let tile = document.createElement("div");
                tile.classList.add("tile");
                tile.id = `tile-${Math.floor(i/width)}-${i%width}`;
                board.appendChild(tile);
            }
        }

        function buildKeyboard() {
            const keys = ["QWERTYUIOP".split(""), "ASDFGHJKL".split(""), ["ENTER", "Z", "X", "C", "V", "B", "N", "M", "âŒ«"]];
            // Clear existing rows if any
            document.getElementById("row1").innerHTML = "";
            document.getElementById("row2").innerHTML = "";
            document.getElementById("row3").innerHTML = "";

            keys.forEach((r, i) => {
                let rowDiv = document.getElementById(`row${i+1}`);
                r.forEach(char => {
                    let k = document.createElement("div");
                    k.innerText = char;
                    k.className = "key";
                    if(char.length > 1) k.classList.add("key-wide");
                    k.onclick = () => handleInput(char);
                    k.id = `key-${char}`;
                    rowDiv.appendChild(k);
                });
            });
        }

        // --- INPUT HANDLING ---
        function handleInput(key) {
            if (gameOver) return;
            if (key === "âŒ«") {
                if (col > 0) { col--; updateTile(row, col, "", "#3a3a3c"); }
            } else if (key === "ENTER") {
                if (col === width) checkWin();
                else showToast("Need 4 letters!");
            } else if (col < width) {
                updateTile(row, col, key, "#818384");
                col++;
            }
        }

        function updateTile(r, c, text, color) {
            let t = document.getElementById(`tile-${r}-${c}`);
            t.innerText = text;
            t.style.borderColor = color;
        }

        // --- WIN LOGIC ---
        function checkWin() {
            let guess = "";
            for (let c = 0; c < width; c++) guess += document.getElementById(`tile-${row}-${c}`).innerText;
            
            // Allow any 4 letters (kid mode: don't validate against dictionary to avoid frustration)
            // But we can check if it's a real word if we want. For now, let's keep it simple.

            let counts = {};
            for (let c of secret) counts[c] = (counts[c] || 0) + 1;

            // Green Pass
            for (let c = 0; c < width; c++) {
                let letter = guess[c];
                if (secret[c] === letter) {
                    markTile(c, "correct");
                    markKey(letter, "correct");
                    counts[letter]--;
                }
            }

            // Yellow/Gray Pass
            for (let c = 0; c < width; c++) {
                let letter = guess[c];
                let tile = document.getElementById(`tile-${row}-${c}`);
                if (!tile.classList.contains("correct")) {
                    if (secret.includes(letter) && counts[letter] > 0) {
                        markTile(c, "present");
                        markKey(letter, "present");
                        counts[letter]--;
                    } else {
                        markTile(c, "absent");
                        markKey(letter, "absent");
                    }
                }
            }

            if (guess === secret) {
                setTimeout(() => endGame(true), 500);
            } else {
                row++; col = 0;
                if (row === height) setTimeout(() => endGame(false), 500);
            }
        }

        function markTile(c, status) {
            let t = document.getElementById(`tile-${row}-${c}`);
            t.classList.add(status);
            t.style.borderColor = ""; // Let CSS class handle color
        }

        function markKey(letter, status) {
            let k = document.getElementById(`key-${letter}`);
            // Don't downgrade green to yellow
            if (status === "present" && k.classList.contains("correct")) return;
            // Don't mark absent if it's already green/yellow
            if (status === "absent" && (k.classList.contains("correct") || k.classList.contains("present"))) return;
            
            k.classList.add(status);
        }

        function showToast(msg) {
            let t = document.getElementById("toast");
            t.innerText = msg;
            t.style.visibility = "visible";
            setTimeout(() => t.style.visibility = "hidden", 2000);
        }
    </script>
</body>
</html>